!!! 5
%html( lang="en" )
  %head
    %meta( charset="UTF-8" )
    %meta( http_equiv="X-UA-Compatible" content="IE=edge,chrome=1" )

    %meta( name="viewport" content="initial-scale=1" )
    %meta( name="apple-mobile-web-app-capable" content="yes" )
    %meta( name="apple-mobile-web-app-status-bar-style" content="black-translucent" )

    %meta( name="author" content="Stefanie Hatcher" )
    %meta( name="description" content="#{current_page.data.description}" )

    %title= current_page.data.title || "Frontend 101"
    %link( rel="shortcut icon" href="#{asset_path("ico", "s.ico")}" )

    = stylesheet_link_tag 'reveal.min.css', 'lib/css/zenburn', 'theme/night', 'presentation'

    :javascript
      var path = (window.location.search.match(/print-pdf/gi)) ? '#{asset_path("css", "stylesheets/print/pdf.css")}' : '#{asset_path("css", "stylesheets/print/paper.css")}';
      document.write('<link rel="stylesheet" href="' + path + '" type="text/css" media="print">');

  %body( class=page_classes )
    .reveal
      .slides
        = yield

    = javascript_include_tag 'lib/js/head.min.js', 'javascripts/vendor/reveal.min.js'
    :javascript
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: false,
        width: 1024,
        transition: 'concave',
        dependencies: [
          { src: '#{asset_path("js", "lib/js/classList.js")}', condition: function() { return !document.body.classList; } },
          { src: '#{asset_path("js", "plugin/highlight/highlight.js")}', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: '#{asset_path("js", "plugin/zoom-js/zoom.js")}', async: true, condition: function() { return !!document.body.classList; } },
          { src: '#{asset_path("js", "plugin/notes/notes.js")}', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
    :javascript
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-20906195-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
